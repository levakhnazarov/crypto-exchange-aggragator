$currency-label-width = 7.75rem
$border-size = 1px
$field-font-size = 1.375rem
// $field-font-size = 2rem
$field-line-height = 1.5
$field-border-radius = ($field-font-size  * 2)
.currency-amount
  color #383838
  display block
  position relative
  width 100%
  > div
      position absolute
      right $border-size
      top $border-size
      bottom $border-size
      
      width $currency-label-width
      border-radius 0 $field-border-radius $field-border-radius 0
      > button
        @extend .reset-button
        box-sizing border-box
        width 100%
        align-items center
        background #eee
        border-radius 0 $field-border-radius $field-border-radius 0
        cursor pointer
        display flex
        
        // font-size 1.375rem
        position absolute

        top 0
        left 0
        right 0
        bottom 0
        color @color
        &:hover
          background #ddd
          transition width .2s ease, background-color .2s ease;

        // currency icon
        > svg
          height 1.625rem
          margin 0 0.625rem
          width @height
        
        // currency ticker
        > span
          font-size 1.375rem
          font-weight 700
          // padding-top 0.1rem
          text-transform uppercase
          user-select none
        &[data-len='4'] > span
          font-size 1.125rem
          padding-top 0.1rem
        &[data-len='5'] > span
          font-size .875rem
          padding-top 0.15rem

        > svg
          //font-size .875rem
          //margin-left auto
          //margin-right 0.625rem
          //padding-top 0.1rem
        &[disabled]
          cursor default
          &:hover
            background #eee
          > svg
            //display none
  > label
    bottom 0
    color #999
    font-size 0.875rem
    left 0
    padding .55rem 1.2rem
    line-height $field-font-size * $field-line-height
    position absolute
    top 0
    user-select none
  > input[type='text']
    appearance text
    background #fff
    border $border-size solid #ddd
    border-radius $field-border-radius
    box-sizing border-box
    color @color
    font-size $field-font-size
    font-weight 500
    line-height $field-line-height
    outline none
    padding .5rem 0 .438rem
    padding-right $currency-label-width + 0.5rem
    text-align right
    width 100%

    
    &:invalid
      border-color $error-color
      box-shadow none
      ~ label
        color $error-color
      ~ div > button
        background $error-color
      // .first &
      //   border-color transparent
      //   background lightness($error-color, 90%)
      //   ~ div > button
      //     background lightness($error-color, 80%)
    
    &:disabled
      background-color #eee
      ~ div, ~ div:hover
        cursor default
        background-color #eee
        > svg
          display none

    &::-ms-clear
      display none
    
    // Remove controls from Safari and Chrome
    &::-webkit-inner-spin-button, 
    &::-webkit-outer-spin-button
      -webkit-appearance none
      margin 0 // Removes leftover margin
      
    &
      -moz-appearance textfield
  .first &
    > input
      border-color transparent
      box-shadow $first-screen-item-box-shadow
      &:invalid
        box-shadow $first-screen-item-box-shadow
    > div
      top 0
      right 0
      bottom 0


$cydp-responsive-min-size = $screen-size-sm
.cydp
  visibility hidden
  opacity 0
  transition visibility 0s, opacity 0.1s linear
  // display none
  top 0
  &-show ~ &
    // top -1rem
    visibility visible
    opacity 1

  cursor default
  z-index 800
  position fixed
  top 0
  left 0
  right 0
  bottom 0
  background rgba($primary-color, 1)
  // background rgba(#000, .15)

  text-align left
  font-size .875rem
  
  @media (min-width $cydp-responsive-min-size)
    top 4rem
    position absolute
    background red
    &:before
      position absolute
      z-index 802
      content ''
      top 0
      left 0
      width 0.375rem
      height 0.375rem
      margin-left 1.2rem
      margin-top -.25rem
      background-color #fff
      transform rotate(45deg)
      border-color #ddd
      border-style solid
      border-width 1px 0 0 1px
      .first &
        border-width 0
        margin-top -.2rem
    

  > div
    z-index 801
    box-shadow $invert-box-shadow
    background #fff
    border-radius $modals-border-radius
    position absolute
    top 0
    left 0
    right 0
    bottom 0
    margin $container-padding
    margin-top ($container-padding * 2.8)
    
    @media (min-width $cydp-responsive-min-size)
      // box-shadow none
      border $border-size solid #ddd
      margin 0
      top initial
      left initial
      right initial
      bottom initial
      min-width 10rem
      min-height 11.5rem
      overflow hidden
      .first &
          border none
    > span
      user-select none
      display block
      position absolute
      top 0 
      left 0
      margin-top ($container-padding * -1.25)
      margin-left .45rem
      color #fff
      font-weight 500
      @media (min-width $cydp-responsive-min-size)
        display none
    > button
      cursor pointer
      outline none
      position absolute
      box-sizing border-box
      background transparent
      border none
      display block
      &:first-child
        top 0
        right 0
        margin-top ($container-padding * -1.5)
        margin-right .25rem
        @media (min-width $cydp-responsive-min-size)
          display none
      &:last-child
        bottom 0
        left 0
        right 0
        border-top 1px solid #e9e9e9
        background #f7f7f7
        display block
        text-align center
        color $primary-color
        width 100%
        font-size 1rem
        line-height 1.5
        padding .469rem 0
        border-radius 0 0 $modals-border-radius $modals-border-radius
        @media (min-width $cydp-responsive-min-size)
          display none
      
      svg
        font-size 1.125rem
        fill #fff
    > svg
      position absolute
      top 0
      left 0
      padding-top .6875rem
      padding-left .663rem
      font-size 1rem
      fill #919191
    > input
      box-sizing border-box
      display block
      width 100%
      outline none
      background transparent
      border-style solid
      border-color #ddd
      border-width 0 0 1px 0
      font-size @font-size
      line-height 1.5
      padding-left 2.25rem
      padding-top .663rem
      padding-bottom .463rem
      position relative
      z-index 803
    > ul
      @extend .reset-list
      overflow-x auto
      overflow-y scroll
      position absolute
      margin-top 2.5rem
      margin-bottom 2.5rem
      user-select none
      @media (min-width $cydp-responsive-min-size)
        margin-bottom 0
      top 0
      left 0
      right 0
      bottom 0
      li
        box-sizing border-box
        cursor pointer
        padding 0.625rem
        display flex
        align-items center
        
        // border-bottom 1px solid #e7e7e7
        > span
          overflow hidden
          text-overflow ellipsis
          white-space nowrap
          color #000
        > svg
          height 1rem
          width @height
          margin-right 0.625rem
        > strong
          margin-left auto
          font-weight 700
        &:hover
          background #e7e7e7
        
    
    
  